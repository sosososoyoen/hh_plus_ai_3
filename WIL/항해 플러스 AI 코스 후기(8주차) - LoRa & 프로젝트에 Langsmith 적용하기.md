#í•­í•´99 #í•­í•´í”ŒëŸ¬ìŠ¤ #AI #AIê°œë°œì  #í•­í•´í”ŒëŸ¬ìŠ¤AIí›„ê¸°  #LLM #ì–‘ìí™” #LoRa #Langsmith

## ë“œë””ì–´ ë§ˆì§€ë§‰ ìˆ˜ì—…!
ë§ˆì§€ë§‰ ìˆ˜ì—…ì€ ì–‘ìí™”ì™€ LoRaì— ëŒ€í•´ ë°°ì› ë‹¤.

ì„±ëŠ¥ ì¢‹ì€ LLM ëª¨ë¸ì„ ë¡œë“œí•´ì„œ í•™ìŠµì‹œí‚¬ë ¤ë©´ í•˜ë“œì›¨ì–´ ìª½ìœ¼ë¡œ ì²œë¬¸í•™ì ì¸ ë¹„ìš©ì´ ë“œëŠ”ë°,

ì´ë¥¼ ê²½ëŸ‰í™”í•˜ëŠ” ê¸°ë²•ë“¤ì´ ì–‘ìí™”ì™€ LoRaì´ë‹¤.

## ì–‘ìí™” 

LLM ëª¨ë¸ì˜ íŒŒë¼ë¯¸í„°ë“¤ì´ ìˆëŠ”ë° ì´ëŠ” ë³´í†µ ì •ìˆ˜ë‚˜ ì†Œìˆ˜ ê°’ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.

ê·¸ë˜ì„œ ì´ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ 0ê³¼ 1ë¡œ ì´ë£¨ì–´ì§„ ë¹„íŠ¸ ì—¬ëŸ¬ê°œë¥¼ ì‚¬ìš©í•˜ëŠ”ë°
ê°œë°œ ë‹¨ê³„ì—ì„œëŠ” 32bitìœ¼ë¡œ í‘œí˜„ì„ ë§ì´ í•œë‹¤.
![](https://velog.velcdn.com/images/soonmac/post/59fc3052-9b09-43c6-98a9-1f6a4ce962d6/image.png)


ì–‘ìí™”ëŠ” ì´ëŸ° ë¹„íŠ¸ ìˆ˜ë¥¼ ì¤„ì—¬ë‚˜ê°€ë©´ì„œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ëŠ” ë°©ì‹ì´ë‹¤.

16ë¹„íŠ¸, 8ë¹„íŠ¸, 4ë¹„íŠ¸ í‘œí˜„ìœ¼ë¡œ ë°”ê¾¸ë©´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì ˆë°˜ ì´í•˜ë¡œ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.

ê·¸ëŸ¬ë‚˜ ë¹„íŠ¸ ìˆ˜ë¥¼ ì¤„ì¼ìˆ˜ë¡ ì›ë˜ ê°’ê³¼ ì˜¤ì°¨ê°€ ì¦ê°€í•  ìˆ˜ ìˆì–´, ì •í™•ë„ì™€ í•˜ë“œì›¨ì–´ ê°„ì˜ ê· í˜•ì„ ì˜ ë§ì¶”ëŠ” ê²ƒì´ ì¤‘ìš”í•´ ë³´ì¸ë‹¤.

![](https://velog.velcdn.com/images/soonmac/post/f47b485d-9a5d-4a27-958c-931f6e6ac1f3/image.png)

- **Float16 (fp16)**: 32ë¹„íŠ¸ ëŒ€ë¹„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì ˆë°˜, ëŒ€ë¶€ë¶„ì˜ GPUì—ì„œ ì§€ì›
    
- **BFloat16 (bf16)**: Float16ê³¼ ë™ì¼í•œ 16ë¹„íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ì§€ìˆ˜ë¶€ë¥¼ 8ë¹„íŠ¸ë¡œ ìœ ì§€í•´ ë” ë„“ì€ ë™ì  ë²”ìœ„ë¥¼ ì œê³µ (NVIDIA A100, Google TPU ë“±ì—ì„œ ì§€ì›)
    
- **INT8 / INT4**: ì •ìˆ˜ í‘œí˜„ìœ¼ë¡œ ì˜¤ì°¨ê°€ í¬ì§€ë§Œ, ë§¤ìš° ì ì€ ë©”ëª¨ë¦¬ì™€ ì—°ì‚°ëŸ‰ìœ¼ë¡œ ì¶”ë¡  ì†ë„ ìµœì í™”ì— ìœ ë¦¬



### LoRa (Low-Rank Adaptation)

LoRAëŠ” LLMì˜ íŒŒë¼ë¯¸í„° ì „ì²´ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ëŒ€ì‹ , íŠ¹ì • ë ˆì´ì–´ì˜ ê°€ì¤‘ì¹˜ì— í•´ë‹¹í•˜ëŠ” í–‰ë ¬ì— ì‘ì€ í–‰ë ¬ì„ ì¶”ê°€ë¡œ í•™ìŠµí•˜ëŠ” ë°©ë²•ì´ë‹¤.

í–‰ë ¬ê³±ì˜ íŠ¹ì§•ì„ ì‚¬ìš©í–ˆëŠ”ë°, íŠ¹ì • ë ˆì´ì–´ì—ì„œ ì‘ì€ í–‰ë ¬ì„ ê³±í•´ì„œ ê³„ì‚°í•´ì•¼í•  íŒŒë¼ë¯¸í„° ìˆ˜ë¥¼ í™• ì¤„ì´ëŠ” ê²ƒì´ë‹¤.

![](https://velog.velcdn.com/images/soonmac/post/4acd8dab-46e6-4fd8-acfd-387a28527641/image.png)
![](https://velog.velcdn.com/images/soonmac/post/03d8ec4e-0e85-448b-9eeb-473606dbb604/image.png)


W : ì›ë³¸ì˜ ê°€ì¤‘ì¹˜ (d * k)

```
output = W * x
```
ì›ë˜(ì™¼ìª½ íŒŒë€ìƒ‰ ì‚¬ê°í˜• ì´ë¯¸ì§€)ëŠ”  í° ê°€ì¤‘ì¹˜ í–‰ë ¬ Wì— ì…ë ¥ì¸ X í–‰ë ¬ì„ ê³±í•´ì„œ í•™ìŠµí•˜ëŠ” ëŠë‚Œì´ë¼ë©´

```
output = (W + A*B) * x  
```
W : ë¯¸ë¦¬ í•™ìŠµëœ ì›ë³¸ ê°€ì¤‘ì¹˜ (dÃ—k)
A: dÃ—r í–‰ë ¬ (r â‰ª d,k)
B : r * k í–‰ë ¬

LoRaë¥¼ ì‚¬ìš©í•˜ë©´ ìª¼ê·¸ë§Œ í–‰ë ¬ Aë¥¼ í•œë²ˆ ê³±í•´ì¤˜ì„œ í¬ê¸°ë¥¼ í™• ì¤„ì´ê³ , ë‹¤ì‹œ Bë¥¼ ê³±í•´ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ì›ë˜  í¬ê¸°ë¥¼ ë§ì¶°ì¤˜ì„œ ë©”ëª¨ë¦¬ì™€ í•™ìŠµ ì‹œê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.


## ğŸ­ ê¸°ë³¸ê³¼ì œ - LoRA rankì— ë”°ë¥¸ í•™ìŠµ ì„±ëŠ¥ ë¹„êµí•´ë³´ê¸°

### í•™ìŠµ í™˜ê²½

**Colab Enterprise**

ë¨¸ì‹  ìœ í˜•: g2-standard-4

GPU ìœ í˜•: NVIDIA_L4 x 1

ì§€ì—­: asia-northeast3

ì‹œìŠ¤í…œ RAM : 15.6 GB

GPU RAM : 22.5 GB



### ëª¨ë¸

`facebook/opt-350m`

- https://huggingface.co/facebook/opt-350m

### ë°ì´í„°ì…‹

`sahil2801/CodeAlpaca-20k` 

- ë¹ ë¥¸ ì„±ëŠ¥ ë¹„êµë¥¼ ìœ„í•´ split 50%ë§Œ ì‚¬ìš©
- https://huggingface.co/datasets/sahil2801/CodeAlpaca-20k

### LoRa config

```
task_type=TaskType.CAUSAL_LM,
inference_mode=False,
r=r_value,
lora_dropout=0.1,
lora_alpha=r_value * 4,
target_modules=["q_proj", "k_proj", "v_proj"]
```

- r_value = [8, 128, 256]
- lora_alpha ê°’ì€ r * 4ìœ¼ë¡œ ë­í¬ì˜ ê°’ê³¼ ë¹„ë¡€í•˜ê²Œ ì¡°ì •
- íƒ€ê²Ÿ ëª¨ë“ˆ : ì–´í…ì…˜ ë©”ì»¤ë‹ˆì¦˜ì˜ q, k, v ë ˆì´ì–´

### train/loss

![W B Chart 2025  5  20  á„‹á…©á„’á…® 5_46_26](https://github.com/user-attachments/assets/a4857f9c-6bf9-468b-86d2-990e60c0776e)


https://api.wandb.ai/links/soyeon-bubbles/y5q8y7ko

1. **ì•ˆì •ê¶Œìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ì‹œì **
    - r=256: 2íšŒì°¨ ë§Œì— 1.5 ì´í•˜ë¡œ ì§„ì… â†’ ë¹ ë¥´ê²Œ ì•ˆì •ê¶Œìœ¼ë¡œ
    - r=128: 3íšŒì°¨ì— 1.5 ì´í•˜ â†’ ì¤‘ê°„
    - r=8: 5íšŒì°¨ê°€ ë¼ì•¼ ê²¨ìš° 1.75 ì •ë„ â†’ ëŠë¦¼
2. **í•™ìŠµ ì†ë„(Runtime)**
    - r=8 â‡’ 761.3346
    - r=128 â‡’ 822.9918
    - r=256 â‡’ 907.3956
3. **ìµœì¢… ì†ì‹¤ ê°’**
    - r=256: 1.33 (ìµœì €)
    - r=128: 1.43 (r=256 ëŒ€ë¹„ +0.10)
    - r=8: 1.72 (r=128 ëŒ€ë¹„ +0.29)
4. **ìš©ëŸ‰ ëŒ€ë¹„ íš¨ê³¼**
    - r ê°’ 8â†’128ë¡œ í‚¤ìš°ë©´ ì†ì‹¤ ê°ì†Œí­ì´ í¬ì§€ë§Œ, 128â†’256 êµ¬ê°„ì€ íš¨ê³¼ê°€ ì ì  ì¤„ì–´ë“ ë‹¤. (=ê¸°ìš¸ê¸° ê°ì†Œ)

### ê²°ë¡ 

- **ì„±ëŠ¥ ìš°ì„  â‡’** r=256ì´ ê°€ì¥ ì¢‹ìŒ. ë¹ ë¥¸ ì•ˆì •í™”.
- **íš¨ìœ¨ì ì¸ ì„ ** â‡’ r=128
- **ë¦¬ì†ŒìŠ¤ê°€ í•œì •ì ì´ê³ , ìµœì†Œí•œì˜ í•™ìŠµë§Œ** â‡’ r=8 (ê·¸ëŸ¬ë‚˜ ì†ì‹¤ì´ í¬ë‹¤)

### GPU Memory Allocated

![W B Chart 2025  5  20  ì˜¤í›„ 11_53_59](https://github.com/user-attachments/assets/d2e21829-4590-4feb-9e34-6b529ab292c7)


https://api.wandb.ai/links/soyeon-bubbles/lkaxivz4

| rank (r) | í‰ê·  GPU Memory Allocated (%) |
| --- | --- |
| **256** | ì•½ **20.6%** |
| **128** | ì•½ **19.9%** |
| **8** | ì•½ **18.8%** |
- ì°¨ì´ê°€ 1-2%p ì •ë„ë¡œ ë¯¸ë¯¸í•¨

### Process Memory In Use (MB)

![W B Chart 2025  5  20  á„‹á…©á„’á…® 5_47_53](https://github.com/user-attachments/assets/5639499e-9b22-4f16-aa20-23ae4eaeb8c0)


https://api.wandb.ai/links/soyeon-bubbles/0qfyanlj

| rank r | í‰ê·  ë©”ëª¨ë¦¬ (MB) | í‘œì¤€í¸ì°¨ (MB) | ìµœì†Œ (MB) | ìµœëŒ€ (MB) |
| --- | --- | --- | --- | --- |
| **8** | 1898 | 58.7 | 1874 | 2402 |
| **128** | 1917 | 17.4 | 1885 | 1932 |
| **256** | 1964 | 47.0 | 1879 | 2026 |
1. **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€**
    - r ê°’ì´ ì»¤ì§ˆìˆ˜ë¡ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ë„ ì¦ê°€í•¨
    - r=8 â†’ ì•½ 1898 MB,
        
        r=128 â†’ ì•½ 1917 MB (+19 MB),
        
        r=256 â†’ ì•½ 1964 MB (+66 MB) ì •ë„ ì°¨ì´.
        
2. **ì´ˆê¸° ìŠ¤íŒŒì´í¬ & ë³€ë™ì„±**
    - r=8ì€ ì²« ì¸¡ì • ì‹œ 2400 MBê¹Œì§€ ì°ê³  ê³§ë°”ë¡œ 1880 MB ì„ ìœ¼ë¡œ ë‚´ë ¤ê° â†’ ëª¨ë¸ ë¡œë”©, ìºì‹œ êµ¬ì¶• ë“±ì— ë”°ë¥¸ ì¼ì‹œì ì¸ í˜„ìƒìœ¼ë¡œ ì¶”ì •
    - ì´í›„ r=8ì€ í¬ê²Œ ë³€í•˜ì§€ ì•Šê³ , r=128ì€ Â±20 MB ë‚´ì—ì„œ, r=256ì€ Â±50 MB ë‚´ì—ì„œ ë¹„êµì  ì£¼ê¸°ì ì¸ ë©”ëª¨ë¦¬ í• ë‹¹/í•´ì œê°€ ë°˜ë³µë¨
3. **ì•ˆì •ì„± ê´€ì **
    - r=128 â‡’ í‘œì¤€í¸ì°¨ê°€ ê°€ì¥ ì‘ìŒ
    - r=8 â‡’ ì¼íšŒì„± ìŠ¤íŒŒì´í¬ë¥¼ ì œì™¸í•˜ë©´ ë‚®ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•¨.
    - r=256ì€ ë‹¹ì—°íˆ ê°€ì¥ ë§ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©í•¨. í° ë­í¬ ì—°ì‚°ì„ ì§€ì†í•´ì•¼ í•˜ë¯€ë¡œ ë©”ëª¨ë¦¬ í’€ë§/í•´ì œê°€ ë°˜ë³µë˜ë©° ë³€ë™ í­ì€ ì¤‘ê°„

### ê²°ë¡ 

- **ë©”ëª¨ë¦¬ ì ˆì•½ì´ ìµœìš°ì„  â‡’** r=8
- **ë©”ëª¨ë¦¬ ì•ˆì •ì„±ì´ ì¤‘ìš” â‡’** r=128
- **ì„±ëŠ¥ ìµœìš°ì„  â‡’** r=256

### GPU Time Spent Accessing Memory (%)

![W B Chart 2025  5  20  á„‹á…©á„’á…® 5_59_52](https://github.com/user-attachments/assets/3711c255-3c6d-4304-9529-808c38e4f279)


https://api.wandb.ai/links/soyeon-bubbles/grpmpy33

1. **ë©”ëª¨ë¦¬ ëŒ€ì—­í­ ì˜ì¡´ë„**
    - r=256 > r=128 > r=8 ìˆœìœ¼ë¡œ ë©”ëª¨ë¦¬ ëŒ€ì—­í­ ì˜ì¡´ë„ê°€ ë†’ì•„ì§
2. **ì•ˆì •ì„±**
    - r=128ì´ ê°€ì¥ ì¼ê´€ëœ ë©”ëª¨ë¦¬ ì ‘ê·¼ íŒ¨í„´ì„ ë³´ì„
3. **ë³‘ëª© íŒŒì•…**
    - r=256 ìª½ ë³‘ëª©ì´ ë” ë‘ë“œëŸ¬ì§

### ê²°ë¡ 

- ì—°ì‚°/ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ ê°€ì¥ ì•ˆì •ì  â†’  r=128


## ğŸ¦œí”„ë¡œì íŠ¸ ê·¼í™© - Langsmithë¡œ LLM ì• í”Œë¦¬ì¼€ì´ì…˜ í‰ê°€í•˜ê¸°

### LangSmithë¡œ LLM ì• í”Œë¦¬ì¼€ì´ì…˜ ì¶”ì  í‰ê°€ íŒŒì´í”„ë¼ì¸ ë§Œë“¤ê¸°
* Langsmithë€?
	* ë­ì²´ì¸ì—ì„œ ë§Œë“  LLM ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§, í…ŒìŠ¤íŠ¸ ì§€ì›ì„ í•´ì£¼ëŠ” ë„êµ¬
	* ì—¬ê¸°ì„œëŠ” ì±—ë´‡ì— ì“°ì¸ LLM ì²´ì¸ì„ ì¶”ì í•˜ê±°ë‚˜, í•˜ë‚˜ì˜ ë°ì´í„°ì…‹ì— ëŒ€í•œ ì„±ëŠ¥ ë¹„êµë¥¼ í•  ë•Œ ì“°ì˜€ë‹¤.

ì´ë ‡ê²Œ ì²´ì¸ì´ í•œ ë²ˆ invoke ë˜ëŠ” ê³¼ì •ì„ ì¶”ì í•´ì¤˜ì„œ, ë ˆì´í„´ì‹œ, í† í°, ë¹„ìš©, ì°¸ì¡°í•œ ë¬¸ì„œë“¤ì„ ì•Œ ìˆ˜ ìˆë‹¤.
![](https://velog.velcdn.com/images/soonmac/post/86c4d269-f5c5-4be8-9e35-e65bee740e80/image.png)
![](https://velog.velcdn.com/images/soonmac/post/234f9c03-5c55-4709-982b-24a6ff36fcbd/image.png)



í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ê³  chainì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ ìœ„ì— `@traceable()` ë°ì½”ë ˆì´í„°ë¥¼ ì“°ë©´ ë 
```python
@traceable(run_type="llm")
def get_conversation_chain(retriever, open_ai_key, model):
    llm = ChatOpenAI(model=model, api_key=open_ai_key, temperature=0)
    conversation_chain = ConversationalRetrievalChain.from_llm(
        llm=llm,
        chain_type="stuff",
        retriever=retriever,
        memory=ConversationBufferMemory(memory_key="chat_history", return_messages=True, output_key="answer"),
        get_chat_history=lambda h: h,
        return_source_documents=True,
        verbose=True,
        combine_docs_chain_kwargs={"prompt": PromptTemplate.from_template(template)}
    )
    return conversation_chain
```

### Langsmith + openevalsë¡œ LLM-as-Judge ì‰½ê²Œ í•˜ê¸°
https://github.com/langchain-ai/openevals
langchainì—ì„œ ë§Œë“  LLM-as-Judge ë¼ì´ë¸ŒëŸ¬ë¦¬
* í‰ê°€ì— í•„ìš”í•œ í”„ë¡¬í”„íŠ¸ë¥¼ ì œê³µí•´ì£¼ê¸° ë•Œë¬¸ì— ê°„í¸í•˜ê³ , langsmithì˜ í‰ê°€ ëª¨ë“ˆê³¼ë„ ì˜ ë§ìŒ
* create_llm_as_judge -> í‰ê°€ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³ 
* evaluator -> ì¸í’‹ê³¼ ì•„ì›ƒí’‹ì„ ì—°ê²° (ì¸í’‹, ì•„ì›ƒí’‹ì€ langsmithì˜ evaluate ë©”ì„œë“œë¥¼ ì“°ë©´ ì•Œì•„ì„œ ì§‘ì–´ë„£ì–´ì¤Œ)
* ì´ê±¸ langsmithì˜ evaluate()ì˜ evaluators ë¦¬ìŠ¤íŠ¸ì— ë„£ì–´ì£¼ë©´ ì•Œì•„ì„œ í…ŒìŠ¤íŠ¸ ë°ì´í„°ì…‹ì˜ inputê³¼ output, ê·¸ë¦¬ê³  ë‚´ê°€ ë§Œë“  llm chainì˜ ë‹µë³€ì„ ë¹„êµí•´ì„œ í‰ê°€ë¥¼ í•´ì¤€ë‹¤.

```python

def correctness_evaluator(inputs: dict, outputs: dict, reference_outputs: dict):
    evaluator = create_llm_as_judge(
        prompt=CORRECTNESS_PROMPT,
        model="openai:o3-mini",
        feedback_key="correctness",
    )
    eval_result = evaluator(
        inputs=inputs,
        outputs=outputs,
        reference_outputs=reference_outputs
    )
    return eval_result

experiment_results = client.evaluate(
    target,
    data=dataset_name,
    evaluators=[
        correctness_evaluator
    ],
    experiment_prefix=f"{model_id} + ensemble retriever + llm as judge",
    max_concurrency=2,
)
```


### âœ¨LLM ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ ì§€í‘œ


| Experiment                 |   Bleu   | Correctness | Helpfulness |  Meteor  |  Rouge   | tokens     | P50 Latency(s) |
| -------------------------- | :------: | :---------: | :---------: | :------: | :------: | ---------- | -------------- |
| gpt-4.1-nano + multi-query |   0.15   |    0.40     |    0.60     |   0.37   |   0.19   | **55,628** | 9.497          |
| gpt-4o-mini + multi-query  | **0.18** |  **0.60**   |  **0.95**   |   0.45   | **0.24** | 47,226     | **12.083**     |
| gpt-4.1-nano + ensemble    |   0.14   |    0.45     |    0.47     |   0.36   |   0.17   | 39,132     | 8.626          |
| gpt-4o-mini + ensemble     |   0.15   |    0.60     |    0.85     |   0.42   |   0.21   | 37,905     | 9.956          |
| gpt-4.1-nano + dense       |   0.15   |    0.45     |    0.85     |   0.37   |   0.19   | 30,864     | 7.939          |
| gpt-4o-mini + dense        | **0.18** |    0.50     |    0.90     | **0.46** | **0.24** | 30,428     | 9.297          |
| gpt-4o                     |   0.12   |    0.20     |    0.80     |   0.31   |   0.16   | 7,239      | 6.076          |
| gpt-4.1-nano               |   0.14   |    0.20     |    0.90     |   0.31   |   0.17   | 6,559      | 4.843          |
| gpt-4o-mini                |   0.12   |    0.30     |    0.90     |   0.33   |   0.16   | 7,110      | 7.896          |

**1ìœ„: gpt-4o-mini + multi-query retriever**
- ëª¨ë“  ì§€í‘œì—ì„œ ê³ ë¥¸ ì„±ì¥ì„ ë³´ì—¬ í‰ê·  0.48ë¡œ ì••ë„ì  1ìœ„.
- íŠ¹íˆ Helpfulness(0.95)ì™€ Correctness(0.60)ê°€ ê°€ì¥ ë†’ì•„ â€˜ì •í™•í•˜ë©´ì„œë„ ì¹œì ˆí•œâ€™ ë‹µë³€ì„ ì˜ ë½‘ì•„ëƒ„.


**2~3ìœ„: dense vs ensemble (gpt-4o-mini ê³„ì—´)**
- **Dense retriever** ì¡°í•©(0.456)ì€ BleuÂ·MeteorÂ·Rouge ëª¨ë‘ ìµœìƒìœ„ê¶Œ, Helpfulness(0.90)Â·Correctness(0.50)ë„ ê²¬ê³ .
- **Ensemble retriever** ì¡°í•©(0.446)ì€ Correctness(0.60)ê°€ ìµœê³ ì§€ë§Œ Helpfulness(0.85)ê°€ ì•½ê°„ ë‚®ì•„ 2ìœ„ì™€ ê·¼ì†Œí•œ ì°¨ì´.

**4ìœ„: gpt-4.1-nano + dense retriever**
- gpt-4o-mini ê³„ì—´ë³´ë‹¨ í‰ê· ì´ ë‚®ì§€ë§Œ, gpt-4.1-nano ì¤‘ì—ì„œëŠ” ì œì¼ ê· í˜• ì¡íŒ ì¡°í•©(0.402).

**ì¤‘í•˜ìœ„ê¶Œ (5~7ìœ„): ê¸°ë³¸ ëª¨ë¸ vs gpt-4.1-nano + multi-query**
- **ê¸°ë³¸ gpt-4o-mini**(0.362)ì™€ **gpt-4.1-nano-59c63224**(0.344)ëŠ” retrieval ì „ì—ë„ Helpfulnessê°€ 0.90ìœ¼ë¡œ ë†’ìŒ.
- **gpt-4.1-nano + multi-query**(0.342)ëŠ” ì •í™•ë„ ê°œì„ (0.40)ì—ë„ ë¶ˆêµ¬í•˜ê³  Helpfulness í•˜ë½(0.60) íƒ“ì— ìˆœìœ„ê°€ ë°€ë¦¼.

**ê¼´ì°Œê¶Œ: gpt-4o & gpt-4.1-nano + ensemble**
- Avg 0.318ë¡œ íƒ€ ëª¨ë¸ ëŒ€ë¹„ ë‚®ì€ í¸.
- íŠ¹íˆ ensemble ì¡°í•©ì€ ê³¼ë„í•œ ì•™ìƒë¸”ë¡œ Helpfulness(0.47)ê°€ í¬ê²Œ ë–¨ì–´ì ¸ ì „ë°˜ì  ì„±ëŠ¥ì´ ì €í•˜ë¨.

**ê²°ë¡ :**
- **ìµœê³  ì„±ëŠ¥**ì€ **gpt-4o-mini + multi-query retriever**
- **í† í° ìˆ˜ vs ì†ë„ vs í’ˆì§ˆ ê· í˜•**ì„ ì¤‘ì‹œí•  ë• **gpt-4o-mini + dense retriever**ê°€ ë¬´ë‚œí•œ ì„ íƒ
- gpt-4.1-nano ê³„ì—´ì€ dense ì¡°í•©ë§Œ ê³ ë ¤í•´ ë³¼ ë§Œí•¨.


## ë§ˆì§€ë§‰ ìˆ˜ì—…ì„ ë§ˆì¹˜ë©°

ë“œë””ì–´ ì´ ì§€ì˜¥ìº í”„ê°€ ëì´ ë‚¬ë‹¤...

ê¸€ ì“´ ë‚ ì§œ ê¸°ì¤€ ì–´ì œ ìˆ˜ë£Œì‹ì„ ì§„í–‰í–ˆì—ˆëŠ”ë°

ë‹¤ìŒ ê¸€ì— ìˆ˜ë£Œì‹ ë° í•­í•´ í”ŒëŸ¬ìŠ¤ AI ì½”ìŠ¤ ì†”ì§ í›„ê¸°ì— ëŒ€í•´ ì‘ì„±í•´ë³´ê² ë‹¤.


---------

í•­í•´ í”ŒëŸ¬ìŠ¤ì—ì„œ í˜„ì¬ ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ ì½”ìŠ¤ ìˆ˜ê°•ìƒì„ ëª¨ì§‘ ì¤‘ì…ë‹ˆë‹¤!

ì¶”ì²œ ì½”ë“œë¥¼ ì…ë ¥í•˜ì‹œë©´ ë“±ë¡ê¸ˆ 20ë§Œì›ì„ í• ì¸ë°›ì„ ìˆ˜ ìˆì–´ìš”. (ì»¤ë¦¬ì–´ ì½”ì¹­ ì œì™¸)

ê´€ì‹¬ ìˆìœ¼ì‹  ë¶„ë“¤ì€ ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸í•´ë³´ì„¸ìš”

ì¶”ì²œ ì½”ë“œ: 9T8Rkv

https://hanghae99.spartacodingclub.kr/hhplus-hub


